# UI Review - January 26, 2026

## Overview

Comprehensive UI review of the github.gg Next.js application covering 143 component files across the application.

**Tech Stack:**
- Next.js 16 App Router
- Tailwind CSS v4 with OKLch colors
- Radix UI primitives (shadcn/ui pattern)
- Lucide React icons
- Milkdown for markdown editing
- Mermaid for diagrams
- Recharts for data visualization

---

## Architecture Summary

### Component Organization
```
src/components/
├── ui/           # 40 shared UI primitives (Button, Card, Dialog, etc.)
├── home/         # Landing page (HeroSection, FeatureGrid, CallToAction)
├── profile/      # Developer profiles (DeveloperProfile, SkillAssessment)
├── arena/        # AI battle arena (ArenaClientView, LeaderboardTable)
├── wiki/         # Wiki system (WikiPageClient, WikiEditor)
├── analysis/     # Code analysis (GenericAnalysisView, AnalysisMetrics)
├── diagram/      # Architecture diagrams (MermaidRenderer)
├── scorecard/    # Code quality scorecards
├── wrapped/      # Year-in-review (12 slide components)
├── hire/         # Developer hiring platform
├── layouts/      # Layout wrappers
└── common/       # Shared utilities
```

### Routing Structure
- `/` - Landing/Dashboard (auth-driven)
- `/[user]/[[...params]]` - Dynamic profile/repo routing
- `/arena` - Coding battles
- `/wiki/[owner]/[repo]/[slug]` - Wiki pages
- `/hire` - Developer hiring
- `/wrapped/[year]/[username]` - Year-in-review

---

## Issues Found

### 1. Consistency Issues

#### Color Palette Inconsistency

| File | Issue |
|------|-------|
| `profile/ProfileHeader.tsx:29-32` | Uses `border-gray-200` with conditional style props |
| `PricingCard.tsx:75,112,121` | Hardcoded `bg-blue-600`, `bg-purple-600` instead of variants |
| `arena/ChallengeForm.tsx:353` | Uses `border-gray-200 text-gray-700` different from other buttons |
| `home/HeroSection.tsx:75,127,163` | Mixes `bg-gray-900`, `bg-gray-800`, `border-gray-200` |

**Recommendation:** Create a centralized color token system with semantic names (primary, secondary, success, danger).

#### Button Style Inconsistency

| File | Issue |
|------|-------|
| `RepoHeader.tsx:119-139` | Custom className `w-full sm:w-auto px-3...` instead of Button variants |
| `home/HeroSection.tsx:137` | Uses `h-11 px-5` instead of Button size prop |
| `PricingCard.tsx:75` | Inline `bg-blue-600 hover:bg-blue-700` instead of Button variants |

**Recommendation:** Extend Button component variants to cover all use cases, avoid inline color overrides.

#### Spacing Inconsistency

| File | Issue |
|------|-------|
| `DashboardSidebar.tsx:40,51,60,79,96` | Mobile `px-3` vs desktop `px-2` |
| `RepoHeader.tsx:65,118` | Inconsistent gaps: `gap-3 sm:gap-4` vs `gap-2 sm:gap-3` |
| `users/UsersClientView.tsx` | Table cells `py-6 px-8` while sidebar varies |

**Recommendation:** Create spacing scale constants (e.g., `SPACING.sm = 'p-2'`, `SPACING.md = 'p-4'`).

---

### 2. Accessibility Problems

#### Missing/Empty Alt Text

| File | Line | Issue |
|------|------|-------|
| `ActivityFeed.tsx` | 97 | `alt=""` - empty alt text for avatar images |

**Recommendation:** Use descriptive alt text: `alt={`${username}'s avatar`}` or `alt=""` with `role="presentation"` for decorative images.

#### Missing ARIA Labels

| File | Line | Issue |
|------|------|-------|
| `DashboardSidebar.tsx` | 44 | Search input missing `aria-label` |
| `home/HeroSection.tsx` | 124-131 | Repo URL input missing `aria-label` |
| `repos/ReposClientView.tsx` | 80 | Search input missing `aria-label` |

**Fix Example:**
```tsx
<Input
  aria-label="Search repositories"
  placeholder="Search repositories..."
/>
```

#### Keyboard Navigation Issues

| File | Line | Issue |
|------|------|-------|
| `wrapped/slides/ShareSlide.tsx` | 200-215 | Social buttons rely on onClick only |
| `home/HeroSection.tsx` | 160-167 | Example buttons should be links |

#### Color Contrast Concerns

| File | Line | Issue |
|------|------|-------|
| `wrapped/slides/IntroSlide.tsx` | 172 | `text-slate-500 italic` may fail AA |
| `profile/UserNav.tsx` | 32 | `text-xs text-muted-foreground` very small |

---

### 3. Performance Concerns

#### Animation Cleanup Issues

| File | Line | Issue |
|------|------|-------|
| `profile/DeveloperProfile.tsx` | 38 | setInterval for sparkles needs edge case cleanup |
| `wrapped/slides/ContributionCalendarSlide.tsx` | 119 | setInterval cleanup not visible |

**Good Example (CommitsSlide.tsx:74-91):**
```tsx
useEffect(() => {
  const timer = setInterval(() => { /* ... */ }, 1000 / 60);
  return () => clearInterval(timer); // Proper cleanup
}, []);
```

#### Missing useMemo/React.memo

| File | Line | Issue |
|------|------|-------|
| `wrapped/slides/IntroSlide.tsx` | 34-42 | `fragments` array recreated every render |

**Fix:**
```tsx
const fragments = useMemo(() =>
  Array.from({ length: 40 }, (_, i) => ({ /* ... */ }))
, []);
```

#### Large Components Needing Split

| File | Lines | Issue |
|------|-------|-------|
| `profile/DeveloperProfile.tsx` | 400+ | Handles: UI state, SSE, generation, versions, uploads |
| `wrapped/slides/ShareSlide.tsx` | 316 | Summary card + stats + share buttons + badge code |

**Recommendation:** Split DeveloperProfile into:
- `ProfileGenerator` - handles SSE and generation
- `ProfileDisplay` - renders profile data
- `ProfileVersionSelector` - version management

---

### 4. Code Quality Issues

#### Hardcoded Values

| File | Line | Issue |
|------|------|-------|
| `wrapped/slides/IntroSlide.tsx` | 36 | Hardcoded code symbols array |
| `wrapped/slides/IntroSlide.tsx` | 25-29 | Hardcoded animation timings (1200, 2000, 3000ms) |
| `wrapped/slides/CommitsSlide.tsx` | 20-46 | Hardcoded commit thresholds (2000, 1000, 500, 100) |

**Recommendation:** Extract to constants file:
```tsx
// src/lib/constants/animations.ts
export const INTRO_TIMINGS = {
  SHATTER_DELAY: 1200,
  LINES_DELAY: 2000,
  FIRST_LINE_DELAY: 3000,
};

export const COMMIT_THRESHOLDS = {
  LEGENDARY: 2000,
  EXCEPTIONAL: 1000,
  IMPRESSIVE: 500,
  SOLID: 100,
};
```

#### Duplicated Patterns

| Files | Issue |
|-------|-------|
| `profile/ProfileHeader.tsx:69-107` | Repeated badge pattern with conditional styling |
| `repos/ReposClientView.tsx` + `users/UsersClientView.tsx` | Nearly identical table sorting/filtering logic |

**Recommendation:** Create reusable `<Badge variant="score" />` and `<SortableDataTable />` components.

---

### 5. Responsive Design Issues

#### Hidden Columns Without Mobile Alternative

| File | Line | Issue |
|------|------|-------|
| `repos/ReposClientView.tsx` | 115 | Columns hidden on mobile, no card view fallback |
| `users/UsersClientView.tsx` | 136 | Multiple `hidden lg:table-cell` without alternative |
| `arena/LeaderboardTable.tsx` | 100,108,115 | Same pattern |

**Recommendation:** Add mobile card view:
```tsx
{isMobile ? (
  <MobileCardList data={items} />
) : (
  <DesktopTable data={items} />
)}
```

#### Fixed Widths Breaking Mobile

| File | Line | Issue |
|------|------|-------|
| `RepoSidebar.tsx` | 295 | `w-64` (256px) may be too wide |
| `scorecard/QualityMetrics.tsx` | 46 | `w-40 h-40` fixed circle |
| `wiki/WikiIndexMenu.tsx` | 202,221 | Dropdown `w-48`, `w-56` may overflow |

**Fix:**
```tsx
// Instead of
<div className="w-40 h-40">

// Use responsive
<div className="w-32 md:w-40 h-32 md:h-40">
```

#### Missing Mobile Breakpoints

| File | Line | Issue |
|------|------|-------|
| `RepoHeader.tsx` | 68 | `text-lg sm:text-2xl` - big jump |
| `profile/ProfileHeader.tsx` | 49 | `text-4xl` - no responsive sizing |
| `wrapped/slides/IntroSlide.tsx` | 69 | `text-[10rem] md:text-[14rem]` - missing sm: |

**Fix:**
```tsx
// Add intermediate breakpoints
<h1 className="text-2xl sm:text-3xl md:text-4xl">
```

---

## Priority Recommendations

### Critical (Fix Immediately)
1. **Add aria-labels to all form inputs** - WCAG violation
2. **Fix empty alt text** - Screen reader issue
3. **Add cleanup to all setInterval/setTimeout** - Memory leaks

### High Priority
1. **Create Badge component variants** - Reduce duplication in ProfileHeader
2. **Create SortableDataTable component** - Shared between repos/users/arena
3. **Split DeveloperProfile component** - 400+ lines is unmaintainable
4. **Add mobile card views for tables** - Currently broken on mobile

### Medium Priority
1. **Extract animation constants** - Improve maintainability
2. **Add useMemo to expensive calculations** - Performance
3. **Standardize button styling** - Use Button variants everywhere
4. **Create spacing scale constants** - Consistency

### Low Priority
1. **Review color contrast** - May need minor adjustments
2. **Add intermediate breakpoints** - Minor UX improvement
3. **Extract sub-components from ShareSlide** - Already partially done

---

## Positive Observations

1. **Good component organization** - Feature-based directories with index exports
2. **Proper Radix UI usage** - Accessible primitives as foundation
3. **Server/Client component split** - Appropriate use of 'use client'
4. **Loading states** - Good skeleton implementations
5. **Error boundaries** - Proper error handling at route level
6. **Dark mode support** - OKLch colors with theme variables

---

## Metrics Summary

| Category | Count |
|----------|-------|
| Total Components | 143 |
| UI Primitives | 40 |
| Client Components | 66 |
| Consistency Issues | 9 |
| Accessibility Issues | 7 |
| Performance Issues | 5 |
| Code Quality Issues | 6 |
| Responsive Issues | 8 |
| **Total Issues** | **35** |

---

*Review conducted by Claude Code on January 26, 2026*
